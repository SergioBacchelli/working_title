# UI_TEMPLATE — шаблон UI-спеки экрана (один модуль)

> Этот файл — **шаблон**. Копируй его в `docs/ui/modules/<ModuleId>.ui.md` и заполняй.

Справочник типов полей и параметров: `docs/ui/UI_FIELD_FORMAT.md`.

---

# UI-спека модуля `<ModuleId>`

## 1. Общая информация

- **ModuleId (EN):** `<ModuleId>`
- **DisplayName (RU):** `<Название экрана>`
- **Purpose:**
  Коротко: какую задачу решает экран.
- **Тип экрана:**
  - [ ] Один столбец
  - [ ] Два столбца
  - [ ] Другое: `<описать>`

---

## 2. Общий каркас (если нужен)

Элементы, которые присутствуют на большинстве экранов:
- поле/идентификатор для сохранения (например, `name`)
- кнопки `Выполнить`, `Сохранить`, `Загрузить`
- область статуса/лога

Если для этого модуля что-то отличается — перечислить.

---

## 3. Панели и зоны экрана

| PanelId | Заголовок (RU) | Расположение | Описание |
|---|---|---|---|
| mainInputs | Входные данные | Левая колонка / центр | Обязательные параметры |
| options | Опции | Правая колонка / ниже | Необязательные параметры |
| results | Результаты | Внизу | Поля только для отображения |

---

## 4. Поля (inputs / outputs)

Таблица полей заполняется по правилам из `UI_FIELD_FORMAT.md`.

| PanelId | FieldKeyEn | DisplayNameRu | Type | Required | Default | Params |
|---|---|---|---|---:|---|---|
| mainInputs | name | Наименование | text | да | - | LEN_MIN:1; LEN_MAX:80; HELP:Имя расчёта для сохранения |
| mainInputs | width | Ширина | number | да | 600 | UNIT:mm; MIN:0; MAX:5000; STEP:1 |
| options | color | Цвет фасада | select | нет | white | OPTIONS:white=Белый; black=Чёрный; gray=Серый |
| options | frontType | Тип фасада | radio | да | solid | OPTIONS:solid=Сплошной; frame=Рамочный; glass=Стекло; LAYOUT:horizontal |
| options | hasBackWall | Задняя стенка | toggle | нет | true | TRUE_LABEL:Да; FALSE_LABEL:Нет |
| results | totalPrice | Итоговая стоимость | readonly | - | - | FORMAT:currency; HELP:Рассчитано модулем |

Примечания:
- Для `select/radio` в файл данных сохраняется **внутреннее значение** (например, `white`, `solid`).
- Для `readonly` поле не редактируется и заполняется модулем.

---

## 5. Действия (кнопки / команды)

| ActionId | Текст на кнопке | Где находится | Когда активно | Что делает (высокоуровнево) |
|---|---|---|---|---|
| runCalc | Выполнить | Вверху / внизу | Заполнены обязательные поля | Запускает расчёт, заполняет `results` |
| saveResult | Сохранить | Рядом с runCalc | После успешного расчёта | Сохраняет текущие данные через Storage |
| loadData | Загрузить | Рядом с runCalc | Всегда (или при наличии `name`) | Загружает данные через Storage |

---

## 6. Сообщения и статус / лог

| Code | Уровень | Текст для пользователя | Когда показывается |
|---|---|---|---|
| ERR_NO_NAME | error | Укажите наименование перед сохранением | Нажали «Сохранить» без `name` |
| ERR_NO_FILE | error | Файл не найден | «Загрузить» — файла нет |
| OK_SAVED | success | Данные успешно сохранены | Успешное сохранение |
| OK_LOADED | success | Данные успешно загружены | Успешная загрузка |

---

## 7. Связь с Storage

Если модуль использует файловое хранение (см. `DECISIONS.md` → D-005):

- **Поле, задающее имя файла:** `<FieldKeyEn>` (обычно `name`).
- **Шаблон имени файла (рекомендация):** `<ModuleId>_<name>.txt`

### 7.1. Какие поля сохраняются

- сохраняются все поля ввода + (опционально) результаты, если нужно “восстанавливать расчёт”; 
- поля `readonly` можно сохранять, если они детерминированы и полезны при загрузке.

### 7.2. Формат строки

`<FieldKeyEn>_(Display:<FieldNameRuNoSpaces>)_<Value>`

Пример:
- `width_(Display:Ширина)_600`
- `color_(Display:ЦветФасада)_white`
- `frontType_(Display:ТипФасада)_solid`

---

## 8. Сценарии использования (опционально)

### 8.1 Создать новый расчёт

1. Открыть экран.
2. Заполнить входные поля.
3. Нажать `Выполнить`.
4. Проверить `results`.
5. Нажать `Сохранить`.

### 8.2 Загрузить существующий расчёт

1. Ввести `name`.
2. Нажать `Загрузить`.
3. Проверить, что поля восстановились.
